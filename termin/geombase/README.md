# Geombase Module

Модуль базовых геометрических классов для представления поз и винтовых преобразований.

## Содержание

### `pose2.py`

#### Pose2
Класс для представления позы в 2D пространстве (положение + ориентация).

Поза хранится в виде:
- **ang** (angle) - угол поворота в радианах
- **lin** (linear) - вектор положения [x, y]

**Представление:**
- Использует **угол** для представления ориентации (простое и эффективное для 2D)
- Предоставляет методы для получения матриц вращения 2×2 и трансформации 3×3
- Подходит для 2D робототехники, планирования траекторий
- Поддерживает композицию через оператор умножения

### `pose3.py`

#### Pose3
Класс для представления позы в 3D пространстве (положение + ориентация).

Поза хранится в виде:
- **ang** (angle) - кватернион вращения [x, y, z, w]
- **lin** (linear) - вектор положения [x, y, z]

**Представление:**
- Использует **кватернионы** для представления ориентации (компактно, без gimbal lock)
- Предоставляет методы для получения матриц вращения при необходимости
- Подходит для интерполяции и кинематических цепей
- Поддерживает композицию через оператор умножения

**Новые возможности:**
- **Properties x, y, z** - прямой доступ к координатам положения
- **normalize()** - нормализация кватерниона к единичной длине
- **distance(other)** - расстояние между двумя позами
- **to_axis_angle() / from_axis_angle()** - конвертация axis-angle ↔ quaternion
- **to_euler() / from_euler()** - конвертация Euler angles ↔ quaternion (порядок 'xyz')
- **looking_at()** - создать позу, направленную на заданную точку
- **as_matrix34()** - получить 3×4 матрицу трансформации

### `screw.py`

Классы для винтовых преобразований (твистов и ренчей).

#### Screw
Базовый класс винта - пара (угловая часть, линейная часть).

**Применение:**
- Твисты (twist) - мгновенные скорости
- Ренчи (wrench) - силы и моменты
- Якобианы кинематических цепей

#### Screw2
Винт в 2D пространстве (плоский случай).

#### Screw3
Винт в 3D пространстве.

Винт представляет:
- **Твист** (twist, velocity screw): мгновенная скорость твердого тела (ang = угловая скорость ω, lin = линейная скорость v)
- **Ренч** (wrench, force screw): система сил на твердом теле (ang = момент M, lin = сила F)

## Связь с другими модулями

- **kinematics** - использует Pose2/Pose3 для Transform2/Transform3
- **ga201** - использует Screw2/Screw3 для геометрической алгебры
- **physics** - использует винты для описания движения и сил
- **fem** - использует Pose2/Pose3 для коллайдеров и многотельной механики

## Тесты

- `utest/pose2_test.py` - тесты Pose2 (14 тестов)
- `utest/pose_test.py` - тесты Pose3 (23 теста)
- `utest/screw_test.py` - тесты Screw2 (из ga201, 6 тестов)

## Зависимости

- **numpy** - для матричных и векторных операций
- **math** - для тригонометрических функций
